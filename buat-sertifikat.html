<!doctype html>
<html lang="id">
 <head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Buat Sertifikat - GUGUS 4 WIDYA KARYA</title>
  <link rel="icon" type="image/png" href="https://raw.githubusercontent.com/aprelryu21/gugusempat/main/favicon.png">
  <script src="https://unpkg.com/pdf-lib@1.17.1/dist/pdf-lib.min.js"></script>
  <script src="https://unpkg.com/@pdf-lib/fontkit@1.1.1/dist/fontkit.umd.min.js"></script>
  <link rel="stylesheet" href="https://fonts.googleapis.com/css2?family=Press+Start+2P&display=swap">
  <link rel="stylesheet" href="style.css">
  <style>@view-transition { navigation: auto; }</style>
 </head>
 <body>
  <main>
   <!-- Halaman Form Sertifikat -->
   <div id="certificateForm" class="page-content" style="display: block;">
    <div class="container">
     <div class="form-header neobrutalism-box">
      <h1 id="formTitle">Memuat...</h1>
      <h2 id="formDate"></h2>
     </div>
     <div class="description-box neobrutalism-box-light">
      <div class="description-text">
       Memuat deskripsi...
      </div>
     </div>
     <div class="form-container neobrutalism-box-light">
      <form id="certificateFormElement" onsubmit="createCertificate(event)">
       <div class="form-group">
        <label class="form-label" for="certificateNumber">Nomor Sertifikat</label>
        <input type="text" id="certificateNumber" class="form-input" readonly>
       </div>
       <div class="form-group">
        <label class="form-label" for="participantName">Nama Peserta</label>
        <input type="text" id="participantName" class="form-input" placeholder="Masukkan nama peserta" required>
       </div>
       <div class="form-group">
        <label class="form-label" for="schoolOrigin">Asal Sekolah</label>
        <input type="text" id="schoolOrigin" class="form-input" placeholder="Masukkan asal sekolah" required>
       </div>
       <button type="submit" class="neobrutalism-button btn-create" style="width: 100%; margin-bottom: 15px;" disabled> Buat Sertifikat </button>
      </form>
      <div class="button-row">
       <a href="sertifikat.html" class="neobrutalism-button btn-back"> Kembali </a>
       <button class="neobrutalism-button btn-reset" onclick="resetForm()"> Buat Ulang </button>
      </div>
     </div>
    </div>
   </div>

   <!-- Fixed Footer Navigation -->
   <div id="fixedFooter" class="footer" style="display: block;">
    <div class="footer-nav">
     <a href="dokumentasi.html" class="nav-button nav-docs">Dokumentasi</a>
     <a href="index.html" class="nav-button nav-home">Beranda</a>
     <a href="sertifikat.html" class="nav-button nav-cert active">Sertifikat</a>
    </div>
   </div>

   <!-- Modal Konfirmasi Sertifikat -->
   <div id="confirmModalOverlay" class="modal-overlay" onclick="closeConfirmModal(event)">
    <div id="confirmModalContent" class="confirm-modal" onclick="event.stopPropagation()">
     <button class="modal-close" onclick="closeConfirmModal()">×</button>
     <div id="confirmTitle" class="confirm-title"></div>
     <div class="confirm-buttons">
      <button class="neobrutalism-button" onclick="closeConfirmModal()"> Batal </button>
      <button class="neobrutalism-button" onclick="processCertificate()"> Proses </button>
     </div>
    </div>
   </div>

   <!-- Modal Notifikasi Error -->
   <div id="errorModalOverlay" class="modal-overlay" onclick="closeErrorModal(event)">
    <div class="modal" onclick="event.stopPropagation()">
     <button class="modal-close" onclick="closeErrorModal()">×</button>
     <div class="modal-title" style="color: #e74c3c;">Gagal Memuat Nomor</div>
     <div class="modal-date">Nomor sertifikat gagal dibuat secara otomatis. Silakan coba lagi.</div>
     <div class="confirm-buttons">
      <button class="neobrutalism-button" onclick="location.reload()">Refresh Halaman</button>
      <button class="neobrutalism-button" onclick="retryNumberGeneration()">Coba Lagi</button>
     </div>
    </div>
   </div>
  </main>
  <script src="script.js"></script>
 </body>
</html>
